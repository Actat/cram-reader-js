class CramReader{constructor(e,r,R,t,i){if(!window.Worker){throw"Web Workers API is needed"}if(!e||!r){throw"Files are Falsy"}this.R=new Map;this.t=new Worker("cram-reader-worker.min.js");this.t.cram_reader=this;this.t.onmessage=function(e){this.cram_reader.i(e)};this.h("init",[e,r,R,t,i],undefined)}getRecords(e,r,R,t){this.h("read",[e,r,R],t)}h(e,r,R){var t;while(true){var i=this.o();if(!this.R.has(i)){t=i;break}}this.R.set(t,R);this.t.postMessage([t,e,r])}i(e){var r=this.R.get(e.data[0]);this.R.delete(e.data[0]);if(r){r(e.data[1])}}o(){var e="RRRRRRRR-RRRR-4RRR-rRRR-RRRRRRRRRRRR";for(var r=0;r<e.length;r++){switch(e.charAt(r)){case"R":e=e.replace("R",Math.floor(Math.random()*16).toString(16));break;case"r":e=e.replace("r",(Math.floor(Math.random()*4)+8).toString(16));break}}return e}}
